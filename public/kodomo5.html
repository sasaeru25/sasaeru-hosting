<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="theme-color" content="#ffe6e6">
  <title>å›å¾©ã¸ã®é“ã®ã‚Šï½œã•ã•ã‚¨ãƒ¼ãƒ«</title>

  <!-- â˜… PWA -->
  <link rel="manifest" href="/manifest.json">
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js').catch(()=>{});
      });
    }
  </script>
<!-- â˜… ã‚³ã‚¢ / å…±é€šèŠ¯ -->
  <link rel="stylesheet" href="/css/common.css">
  <script src="/js/lib.js" defer></script>
  <script src="/js/store.js" defer></script>

  <!-- â˜… ãƒšãƒ¼ã‚¸å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆçœç•¥ãªã—ï¼‰ -->
  <style>
    /* ===== ãƒ™ãƒ¼ã‚¹ ===== */
    body{margin:0;background:#f29b8f;font-family:"Noto Sans JP",system-ui,sans-serif;color:#333;}
    .kp-wrapper{
      max-width:430px;margin:auto;
      padding:1rem 1rem 2rem;
      padding-top:calc(1rem + env(safe-area-inset-top));
      padding-right:calc(1rem + env(safe-area-inset-right));
      padding-bottom:calc(2rem + env(safe-area-inset-bottom));
      padding-left:calc(1rem + env(safe-area-inset-left));
    }
    .kp-heading{display:inline-block;background:#fff;color:#333;padding:.5rem 1.2rem;border-radius:12px;font-weight:700;box-shadow:0 2px 6px rgba(0,0,0,.08);margin:0 0 .8rem}
    .kp-lead{background:#fff3e0;border-radius:8px;padding:1rem;margin:.2rem 0 1rem;line-height:1.7}

    /* ===== å›³ï¼ˆã‚µãƒ ãƒã‚¤ãƒ«ï¼‰ ===== */
    .diagram{
      background:#fff;border:2px solid #ddd;border-radius:8px;
      display:flex;align-items:center;justify-content:center;
      overflow:hidden;height:220px;margin-bottom:1rem;position:relative;
    }
    .diagram img{max-width:100%;max-height:100%;object-fit:contain;cursor:zoom-in;display:block}
    .diagram .hint{position:absolute;right:.5rem;bottom:.4rem;font-size:.8rem;color:#666;background:#fff;padding:.1rem .4rem;border-radius:6px}

    /* ===== æ¨ªå¸¯ ===== */
    .phase-bar{background:linear-gradient(90deg,#c58dff,#8ec5ff);color:#fff;padding:.3rem .5rem;font-size:.85rem;border-radius:6px}
    .phase-bar .l{float:left}.phase-bar .r{float:right}
    .phase-bar .c{text-align:center;font-weight:bold;margin-top:.2rem;clear:both}

    /* ===== ãƒ•ã‚§ãƒ¼ã‚ºè¡Œ ===== */
    .phase-row{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:10px;margin-top:.8rem}

    /* ===== ãƒ•ã‚§ãƒ¼ã‚ºãƒœã‚¿ãƒ³ï¼ˆç¸¦æ›¸ãï¼‰ ===== */
    .phase-btn{
      display:flex;align-items:center;justify-content:center;
      width:16%;min-width:52px;padding:1rem 0;
      border-radius:22px;background:#fff7b2;border:2px dashed #f1d662;
      color:#333;text-decoration:none;box-shadow:0 2px 4px rgba(0,0,0,.12);
      font-weight:bold;
      writing-mode:vertical-rl;text-orientation:upright;
      line-height:1.1;font-size:clamp(.9rem,3.2vw,1.05rem);
    }
    @media(max-width:375px){.phase-btn{width:15%;min-width:48px;padding:.9rem 0}}
    @media(max-width:340px){
      .phase-row{overflow-x:auto;-webkit-overflow-scrolling:touch;padding-bottom:.25rem;}
      .phase-btn{flex:0 0 56px;width:auto;}
    }
    .phase-btn span{display:block;line-height:1.1}

    /* ===== ãƒ•ãƒƒã‚¿ãƒ¼ ===== */
    .page-nav{display:flex;justify-content:center;gap:2rem;padding:1.6rem 0 .6rem}
    .nav-btn{text-decoration:none;color:#4d2bb6;font-weight:700}

    /* ===== å›³ã®æ‹¡å¤§ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼‰ ===== */
    .zoom-overlay[hidden]{display:none!important;}
    .zoom-overlay{position:fixed;inset:0;z-index:99999;background:#fff;}
    .zoom-top{
      position:sticky;top:0;z-index:1;display:flex;justify-content:flex-end;
      padding:12px;padding-top:max(12px,env(safe-area-inset-top));
      background:#fff;border-bottom:1px solid #eee;
    }
    .zoom-close{
      border:0;background:#111;color:#fff;width:44px;height:44px;
      border-radius:999px;font-size:22px;cursor:pointer;
    }
    .zoom-body{
      height:calc(100vh - 70px);overflow:auto;-webkit-overflow-scrolling:touch;
      padding:12px 12px max(18px,env(safe-area-inset-bottom)) 12px;
      display:flex;align-items:flex-start;justify-content:center;
    }
    .zoom-img{display:block;width:min(980px,100%);height:auto;}
  </style>
</head>

<body>
<main class="kp-wrapper">
  <h2 class="kp-heading">ğŸ€ å›å¾©ã¸ã®é“ã®ã‚Š</h2>

  <p class="kp-lead">
    ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒåˆ‡ã‚Œã¦ã—ã¾ã£ãŸçŠ¶æ…‹ã‹ã‚‰ã€å¿ƒã¨ä½“ã‚’ä¼‘ã‚ã€å†ã³å¤–ã«å‘ã‹ã£ã¦ã„ãã«ã¯ã€
    ä¸€èˆ¬çš„ã«æ®µéšãŒã‚ã‚‹ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚å­ã©ã‚‚ãŸã¡ã®å¿ƒãŒã©ã†å¤‰åŒ–ã—ã¦
    å›å¾©ã«å‘ã‹ã†ã®ã‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
  </p>

  <!-- å›³ï¼ˆã‚µãƒ ãƒã‚¤ãƒ«ï¼‰ -->
  <figure class="diagram">
    <img id="diagramThumb"
         src="https://lh3.googleusercontent.com/d/1AkjpfRLEKrBzpQq-3THLcsMdqBE5-xVr"
         alt="å›å¾©ã¸ã®é“ã®ã‚Š">
    <small class="hint">ã‚¿ãƒƒãƒ—ã§æ‹¡å¤§</small>
  </figure>

  <!-- æ¨ªå¸¯ -->
  <div class="phase-bar">
    <span class="l">æ··ä¹±æœŸ</span>
    <span class="r">å›å¾©æœŸ</span>
    <div class="c">â† ä½è¿·æœŸ â†’</div>
  </div>

    <div class="phase-row">
    <a class="phase-btn" href="?page=dankai1"><span>å‰å…†æœŸ</span></a>
    <a class="phase-btn" href="?page=dankai2"><span>åˆæœŸ</span></a>
    <a class="phase-btn" href="?page=dankai3"><span>ä¸­æœŸ</span></a>
    <a class="phase-btn" href="?page=dankai4"><span>å¾ŒæœŸ</span></a>
    <a class="phase-btn" href="?page=dankai5"><span>å›å¾©æœŸ</span></a>
  </div>


  <p>å„æ®µéšã®èª¬æ˜ã‚‚ã”è¦§ãã ã•ã„</p>

  <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <nav class="page-nav">
    <a href="?page=kodomo"  class="nav-btn prev">ï¼œ å­ã©ã‚‚ã®å¿ƒç†</a>
    <a href="?page=kodomo6" class="nav-btn next">é€²ã‚€ ï¼</a>
  </nav>

</main>

<!-- æ‹¡å¤§ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ -->
<div id="zoomOverlay" class="zoom-overlay" hidden aria-label="å›³ã®æ‹¡å¤§è¡¨ç¤º">
  <div class="zoom-top">
    <button type="button" class="zoom-close" id="zoomClose" aria-label="é–‰ã˜ã‚‹">Ã—</button>
  </div>
  <div class="zoom-body" id="zoomBody">
    <img id="zoomImg" class="zoom-img" alt="">
  </div>
</div>

<script>
(function(){
  const thumb   = document.getElementById('diagramThumb');
  const ov      = document.getElementById('zoomOverlay');
  const zoomImg = document.getElementById('zoomImg');
  const closeBt = document.getElementById('zoomClose');

  if(!thumb || !ov || !zoomImg || !closeBt) return;

  function openZoom(){
    zoomImg.src = thumb.currentSrc || thumb.src;
    zoomImg.alt = thumb.alt || '';
    ov.hidden = false;
    try{ document.getElementById('zoomBody').scrollTo(0,0);}catch(e){}
  }
  function closeZoom(){ ov.hidden = true; }

  thumb.addEventListener('click', openZoom);
  closeBt.addEventListener('click', closeZoom);
  ov.addEventListener('click', e => { if(e.target === ov) closeZoom(); });
  document.addEventListener('keydown', e => {
    if(!ov.hidden && (e.key === 'Escape' || e.key === 'Esc')) closeZoom();
  });
})();
</script>
</body>
</html>
